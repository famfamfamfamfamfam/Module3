https://gameprogrammingpatterns.com/state.html